---
layout: post
title: "Blogging with Git Flow"
teaser: "Description"
author: "JÃ¼rgen Gutsch"
comments: true
image: /img/cardlogo-dark.png
tags: 
- .NET Core
- Unit Test
- XUnit
- MSTest
---

Since a while we use [Git Flow](http://danielkummer.github.io/git-flow-cheatsheet/) in our projects at the [YooApps](http://yooapps.com). Git Flow is a add-in for Git, that helps us to follow the feature branch process in a standard way. We usually use our Jira ticket number as names for features, bugs or hotfix and we use the Jira Version as a Release name. This makes absolutely sense to us and makes the flow pretty transparent. We also use BitBucket to host our Git repositories, which is directly linked to Jira. That means on every Pull Request we have the direct link to the Jira ticket.

My idea is to also use Git Flow with my blog. 

> My blog is generated by [Pretzel](https://github.com/Code52/pretzel), which is a Jekyll clone written in C#. I host it on an Azure Web Site. I write my posts in GitHub style Markdown files and push them to GitHub. Every time I push a new post, the Azure Web Site starts a new build and runs Pretzel to generate the static blog.
>
> Dear hackers and bots: Because it is a static web site, it doesn't make sense to search for WordPress login pages or WordPress APIs on my blog ;)

Since almost one and a halve year now, I use Git on GitHub to publish my posts, but I only use the master branch yet and I don't commit the drafts. I sometimes write two or three post in parallel and I anyway have around ten drafts in the Pretzels _drafts folder. This feels a bit messy and I will loose my drafted posts if the machine crashes.

Using Git Flow, I don't need to use the _drafts folder anymore. Every unfinished feature branch is a draft. If I finish a post, I would just need to finish the feature branch. If I want to publish the posts, I can start a new release.

Maybe the release step is a bit too much. But currently I need to push explicitly to publish a new post and it shouldn't be a big deal to also create a new release to merge all finished posts from develop to master. If it doesn't fit, it would be easy to switch to the more simple feature branches.

## Let's see how it works :-)

This blog post is created as draft by using the following commands in the console:

~~~ shell
git flow feature start blogging-with-git-flow
git add _posts/*
git commit -m "new post about blogging with pretzel"
git flow feature publish
~~~

Now I can write, change and commit as much as I want to. If I'm done, I'm going to use:

~~~ shell
git flow feature finish
git push
~~~

The last step is publishing the posts. I currently not sure, but I could probably use the number of posts as the minor version number, which will also be used as tag for the release:

~~~ shell
git flow release start 1.30.0
git flow release finish
git push --all
git push --tags
~~~

(I possibly should create a batch command to execute the four lines to release new posts)

After that Pretzel will start "baking" the Blog.

I'm sure this will be a clean way to publish and to handle the drafts and finished posts.